!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@vue/runtime-core"),require("vue")):"function"==typeof define&&define.amd?define(["exports","@vue/runtime-core","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["vue-3-ui"]={},e.Vue,e.Vue)}(this,(function(e,t,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t){var n,a,o,r;a="click",o=function(n){var a=function(e,t,n){if(t===n)return null;if(n&&!n.contains(t))return null;for(var a=t;null!==a&&a!==n;){if(a.classList.contains(e))return a;a=a.parentElement}return null}("item",n.target,e);a&&t(a)},void 0===r&&(r=!1),(n=e)&&a&&o&&n.addEventListener(a,o,r)}function r(e,n,o){void 0===n&&(n=["","",""]);var r=t.ref(n[0]),i=t.ref(n[1]),c=t.ref(n[2]),d=function(e,t){if(void 0===t&&(t={id:"id",pid:"pid"}),!Array.isArray(e))return[];var n=t.id,o=t.pid,r=e.reduce((function(e,t){return t.__id__=t[n],t.__pid__=t[o],t.child=[],e[t.__id__]=t,e}),{}),i=new Set(Object.keys(r));return Object.keys(r).forEach((function(e){var t=r[e],n=t.__pid__,a=r[n];a&&(a.child.push(t),i.delete(t.__id__),Reflect.deleteProperty(t,"__id__"),Reflect.deleteProperty(t,"__pid__"))})),Array.from(i.values()).map((function(e){var t=a({},r[e]);return t[n]=t.__id__,t[o]=t.__pid__,Reflect.deleteProperty(t,"__id__"),Reflect.deleteProperty(t,"__pid__"),t}))}(e),l=t.computed((function(){return d.map((function(e){var t=a({},e);return Reflect.deleteProperty(t,"child"),t}))})),u=t.computed((function(){var e;if(!Array.isArray(d)||0===d.length)return[];var t=r.value||d[0].id;r.value=t;var n=(null===(e=d.find((function(e){return e.id===t})))||void 0===e?void 0:e.child)||[];if(i.value=i.value||(n.length>0?n[0].id:""),!c.value){var a=n[0]&&Array.isArray(n[0].child)&&n[0].child.length>0;c.value=a?n[0].child[0].id:""}return n})),p="",s=function(e){p!==e&&(p=e,o("route-change",e))};return t.watch(r,(function(e){var t=d.find((function(t){return t.id===e})).child;if(Array.isArray(t)&&0!==t.length){var n=t[0].child;Array.isArray(n)&&n.length>0?s(n[0].path):s(t[0].path)}})),{oneId:r,twoId:i,threeId:c,firstLevelMenu:l,secondLevelMenu:u,routeChange:s}}function i(e,t,n,a){e("route-change",t),e("update:twoId",n),e("update:threeId",a)}var c=t.defineComponent({name:"Menu",props:{data:{type:Array,default:function(){return[]}},checkedId:{type:String,default:""}},setup:function(e,n){var a=n.emit,r=t.ref(!1),i=t.ref(null);return t.onMounted((function(){o(i.value,(function(e){a("update:checkedId",e.dataset.id),r.value=!1}))})),{visible:r,bodyRef:i}}});const d=n.withScopeId("data-v-1b2bbd44");n.pushScopeId("data-v-1b2bbd44");const l={class:"menu-body",ref:"bodyRef"},u=n.createVNode("i",{class:"el-icon-menu"},null,-1),p=n.createVNode("div",{class:"menu-title"},[n.createVNode("i",{class:"el-icon-s-grid"}),n.createVNode("div"),n.createVNode("span",{class:"title"},"菜单")],-1);n.popScopeId();const s=d(((e,t)=>{const a=n.resolveComponent("el-popover");return n.openBlock(),n.createBlock(a,{placement:"bottom-start",trigger:"hover",width:"500px",visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t)},{reference:d((()=>[p])),default:d((()=>[n.createVNode("section",l,[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.data,(t=>(n.openBlock(),n.createBlock("div",{key:t.id,class:["item",{checked:t.id===e.checkedId}],"data-id":t.id},[u,n.createVNode("span",null,n.toDisplayString(t.label),1)],10,["data-id"])))),128))],512)])),_:1},8,["visible"])}));c.render=s,c.__scopeId="data-v-1b2bbd44",c.__file="src/components/BaseMenu/Menu.vue";var f=t.defineComponent({name:"MenuItem",props:{data:{type:Object,default:function(){return{}}},twoId:{type:String,default:""},threeId:{type:String,default:""}},emits:["route-change","update:threeId","update:twoId"],setup:function(e,n){var a=n.emit,r=function(e,n){return{hasChild:t.computed((function(){return Array.isArray(e.child)&&e.child.length>0})),secondClick:function(){var t=e.path,a=e.id;t&&i(n,t,a,"")}}}(e.data,a),c=r.hasChild,d=r.secondClick,l=function(e){var n=t.ref(),a=t.ref(!1);return t.onMounted((function(){o(n.value,(function(t){var n=t.dataset.id,o=t.dataset.pid,r=t.dataset.path;r&&n&&o&&(i(e,r,o,n),a.value=!1)}))})),{menuGroupRef:n,visible:a}}(a);return{menuGroupRef:l.menuGroupRef,visible:l.visible,hasChild:c,secondClick:d}}});const m=n.withScopeId("data-v-186927de");n.pushScopeId("data-v-186927de");const v={class:"menu-body",ref:"menuGroupRef"};n.popScopeId();const h=m(((e,t)=>{const a=n.resolveComponent("el-popover");return e.hasChild?(n.openBlock(),n.createBlock(a,{key:0,placement:"bottom",trigger:"hover",visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t)},{reference:m((()=>[n.createVNode("div",{class:["menu-item",{"two-checked":e.data.id===e.twoId}]},n.toDisplayString(e.data.label),3)])),default:m((()=>[n.createVNode("section",v,[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.data.child,(t=>(n.openBlock(),n.createBlock("div",{key:t.id,class:["item leaf-item",{"three-checked":t.id===e.threeId}],"data-id":t.id,"data-pid":t.pid,"data-path":t.path},[n.createVNode("span",null,n.toDisplayString(t.label),1)],10,["data-id","data-pid","data-path"])))),128))],512)])),_:1},8,["visible"])):(n.openBlock(),n.createBlock("div",{key:1,class:["menu-item",{"two-checked":e.data.id===e.twoId}],onClick:t[2]||(t[2]=(...t)=>e.secondClick&&e.secondClick(...t))},n.toDisplayString(e.data.label),3))}));f.render=h,f.__scopeId="data-v-186927de",f.__file="src/components/BaseMenu/MenuItem.vue";var g=t.defineComponent({name:"UiBaseMenu",components:{MainMenu:c,MenuItem:f},props:{data:{type:Array,default:function(){return[]}},ids:{type:Array,default:function(){return["","",""]}}},emits:["route-change"],setup:function(e,t){var n=t.emit,a=r(e.data,e.ids,n);return{oneId:a.oneId,twoId:a.twoId,threeId:a.threeId,firstLevelMenu:a.firstLevelMenu,secondLevelMenu:a.secondLevelMenu,routeChange:a.routeChange}}});const _=n.withScopeId("data-v-10e6fe83");n.pushScopeId("data-v-10e6fe83");const y={class:"base-menu"};n.popScopeId();const b=_(((e,t)=>{const a=n.resolveComponent("main-menu"),o=n.resolveComponent("menu-item");return n.openBlock(),n.createBlock("article",y,[n.createVNode("header",null,[n.createVNode(a,{checkedId:e.oneId,"onUpdate:checkedId":t[1]||(t[1]=t=>e.oneId=t),data:e.firstLevelMenu},null,8,["checkedId","data"])]),n.createVNode("section",null,[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.secondLevelMenu,(a=>(n.openBlock(),n.createBlock(o,{key:a.id,data:a,"two-id":e.twoId,"onUpdate:two-id":t[2]||(t[2]=t=>e.twoId=t),"three-id":e.threeId,"onUpdate:three-id":t[3]||(t[3]=t=>e.threeId=t),onRouteChange:e.routeChange},null,8,["data","two-id","three-id","onRouteChange"])))),128))])])}));function k(e){var t=n.ref([]),a=n.ref(0),o=n.ref(1),r=n.ref(20);return n.watchEffect((function(){!function(n,o){"function"==typeof e&&e({pageNum:n,pageSize:o}).then((function(e){a.value=e.total,t.value=e.list}))}(o.value,r.value)})),{total:a,pageNum:o,pageSize:r,data:t}}g.render=b,g.__scopeId="data-v-10e6fe83",g.__file="src/components/BaseMenu/index.vue",g.install=function(e){e.component(g.name,g)};var I=t.defineComponent({name:"UiBaseGrid",props:{columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},height:{type:[String,Number],default:"100%"}},setup:function(e,t){return{emit:t.emit}}});const C=n.withScopeId("data-v-1b892388");n.pushScopeId("data-v-1b892388");const S=n.createTextVNode("无数据");n.popScopeId();const B=C(((e,t)=>{const a=n.resolveComponent("el-table");return n.openBlock(),n.createBlock(a,{class:"base-grid",data:e.data,"highlight-current-row":!0,style:{width:"100%"},height:e.height,"tooltip-effect":"light",onSelect:t[1]||(t[1]=t=>e.emit("select",t)),onSelectAll:t[2]||(t[2]=t=>e.emit("select-all",t)),onRowClick:t[3]||(t[3]=t=>e.emit("row-click",t)),onRowDblclick:t[4]||(t[4]=t=>e.emit("row-db-click",t)),onSortChange:t[5]||(t[5]=({column:t,prop:n,order:a})=>e.emit("sort-change",t,n,a)),size:"medium"},{empty:C((()=>[S])),default:C((()=>[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.columns,((e,t)=>(n.openBlock(),n.createBlock(n.Fragment,{key:t},[n.createCommentVNode("普通列"),(n.openBlock(),n.createBlock(n.resolveDynamicComponent("el-table-column"),{type:e.type,label:e.label,prop:e.prop,align:e.align,"header-align":e.headerAlign,formatter:e.formatter,sortable:e.sortable,"show-overflow-tooltip":!0,"min-width":e.width},null,8,["type","label","prop","align","header-align","formatter","sortable","min-width"]))],64)))),128))])),_:1},8,["data","height"])}));I.render=B,I.__scopeId="data-v-1b892388",I.__file="src/components/BaseGrid/DataGrid.vue";var w=n.defineComponent({props:{total:Number,pageNum:Number,pageSize:Number},setup:function(e,t){var a=t.emit;return{pageSizes:n.reactive([10,20,50,100,200]),sizeChangeEvent:function(e){a("update:page-size",e),a("update:page-num",1)},currentChangeEvent:function(e){a("update:page-num",e)}}}});w.render=function(e,t){const a=n.resolveComponent("el-pagination");return n.openBlock(),n.createBlock(a,{class:"pagination",size:"mini","page-sizes":e.pageSizes,"current-page":e.pageNum,"page-size":e.pageSize,total:e.total,layout:"prev, pager, next,sizes, jumper",onSizeChange:e.sizeChangeEvent,onCurrentChange:e.currentChangeEvent},null,8,["page-sizes","current-page","page-size","total","onSizeChange","onCurrentChange"])},w.__file="src/components/BaseGrid/PageCtl.vue";var N=t.defineComponent({name:"UiBaseGrid",components:{DataGrid:I,PageCtl:w},props:{loadData:Function,columns:{type:Array,default:function(){return[]}},hasPage:{type:Boolean,default:!0}},setup:function(e,t){var n=t.emit,a=k(e.loadData);return{emit:n,total:a.total,pageNum:a.pageNum,pageSize:a.pageSize,data:a.data}}});const z=n.withScopeId("data-v-4e9900ac");n.pushScopeId("data-v-4e9900ac");const M={class:"base-grid"};n.popScopeId();const A=z(((e,t)=>{const a=n.resolveComponent("data-grid"),o=n.resolveComponent("page-ctl");return n.openBlock(),n.createBlock("article",M,[n.createVNode("section",null,[n.createVNode(a,{columns:e.columns,data:e.data,onSelect:t[1]||(t[1]=t=>e.emit("select",t)),onSelectAll:t[2]||(t[2]=t=>e.emit("select-all",t)),onRowClick:t[3]||(t[3]=t=>e.emit("row-click",t)),onRowDblclick:t[4]||(t[4]=t=>e.emit("row-db-click",t)),onSortChange:t[5]||(t[5]=({column:t,prop:n,order:a})=>e.emit("sort-change",t,n,a))},null,8,["columns","data"])]),n.createVNode("footer",null,[n.createVNode(o,{total:e.total,pageNum:e.pageNum,"onUpdate:pageNum":t[6]||(t[6]=t=>e.pageNum=t),pageSize:e.pageSize,"onUpdate:pageSize":t[7]||(t[7]=t=>e.pageSize=t)},null,8,["total","pageNum","pageSize"])])])}));N.render=A,N.__scopeId="data-v-4e9900ac",N.__file="src/components/BaseGrid/index.vue",N.install=function(e){e.component(N.name,N)};var V=[g,N],R=function(e){var t=[];V.forEach((function(n){e.component(n.name,n),t.push(n.name)})),console.log("Global Registration Component: "+t)},L={install:R};e.BaseGrid=N,e.BaseMenu=g,e.default=L,e.install=R,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-3-ui.umd.js.map
