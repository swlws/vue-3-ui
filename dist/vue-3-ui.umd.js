!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@vue/runtime-core"),require("vue")):"function"==typeof define&&define.amd?define(["exports","@vue/runtime-core","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["vue-3-ui"]={},e.Vue,e.Vue)}(this,(function(e,t,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],l=0,i=r.length;l<i;l++,a++)o[a]=r[l];return o}function r(e,t){var n,o,a,r;o="click",a=function(n){var o=function(e,t,n){if(t===n)return null;if(n&&!n.contains(t))return null;for(var o=t;null!==o&&o!==n;){if(o.classList.contains(e))return o;o=o.parentElement}return null}("item",n.target,e);o&&t(o)},void 0===r&&(r=!1),(n=e)&&o&&a&&n.addEventListener(o,a,r)}function l(e,n,a){void 0===n&&(n=["","",""]);var r=t.ref(n[0]),l=t.ref(n[1]),i=t.ref(n[2]),c=function(e,t){if(void 0===t&&(t={id:"id",pid:"pid"}),!Array.isArray(e))return[];var n=t.id,a=t.pid,r=e.reduce((function(e,t){return t.__id__=t[n],t.__pid__=t[a],t.child=[],e[t.__id__]=t,e}),{}),l=new Set(Object.keys(r));return Object.keys(r).forEach((function(e){var t=r[e],n=t.__pid__,o=r[n];o&&(o.child.push(t),l.delete(t.__id__),Reflect.deleteProperty(t,"__id__"),Reflect.deleteProperty(t,"__pid__"))})),Array.from(l.values()).map((function(e){var t=o({},r[e]);return t[n]=t.__id__,t[a]=t.__pid__,Reflect.deleteProperty(t,"__id__"),Reflect.deleteProperty(t,"__pid__"),t}))}(e),d=t.computed((function(){return c.map((function(e){var t=o({},e);return Reflect.deleteProperty(t,"child"),t}))})),u=t.computed((function(){var e;if(!Array.isArray(c)||0===c.length)return[];var t=r.value||c[0].id;r.value=t;var n=(null===(e=c.find((function(e){return e.id===t})))||void 0===e?void 0:e.child)||[];if(l.value=l.value||(n.length>0?n[0].id:""),!i.value){var o=n[0]&&Array.isArray(n[0].child)&&n[0].child.length>0;i.value=o?n[0].child[0].id:""}return n})),p="",s=function(e){p!==e&&(p=e,a("route-change",e))};return t.watch(r,(function(e){var t=c.find((function(t){return t.id===e})).child;if(Array.isArray(t)&&0!==t.length){l.value=t[0].id;var n=t[0].child;Array.isArray(n)&&n.length>0?(i.value=n[0].id,s(n[0].path)):(i.value="",s(t[0].path))}})),{oneId:r,twoId:l,threeId:i,firstLevelMenu:d,secondLevelMenu:u,routeChange:s}}function i(e,t,n,o){e("route-change",t),e("update:twoId",n),e("update:threeId",o)}var c=t.defineComponent({name:"Menu",props:{data:{type:Array,default:function(){return[]}},checkedId:{type:String,default:""}},setup:function(e,n){var o=n.emit,a=t.ref(!1),l=t.ref(null);return t.onMounted((function(){r(l.value,(function(e){o("update:checkedId",e.dataset.id),a.value=!1}))})),{visible:a,bodyRef:l}}});const d=n.withScopeId("data-v-1b2bbd44");n.pushScopeId("data-v-1b2bbd44");const u={class:"menu-body",ref:"bodyRef"},p=n.createVNode("i",{class:"el-icon-menu"},null,-1),s=n.createVNode("div",{class:"menu-title"},[n.createVNode("i",{class:"el-icon-s-grid"}),n.createVNode("div"),n.createVNode("span",{class:"title"},"菜单")],-1);n.popScopeId();const f=d(((e,t)=>{const o=n.resolveComponent("el-popover");return n.openBlock(),n.createBlock(o,{placement:"bottom-start",trigger:"hover",width:"500px",visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t)},{reference:d((()=>[s])),default:d((()=>[n.createVNode("section",u,[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.data,(t=>(n.openBlock(),n.createBlock("div",{key:t.id,class:["item",{checked:t.id===e.checkedId}],"data-id":t.id},[p,n.createVNode("span",null,n.toDisplayString(t.label),1)],10,["data-id"])))),128))],512)])),_:1},8,["visible"])}));c.render=f,c.__scopeId="data-v-1b2bbd44",c.__file="src/components/BaseMenu/Menu.vue";var m=t.defineComponent({name:"MenuItem",props:{data:{type:Object,default:function(){return{}}},twoId:{type:String,default:""},threeId:{type:String,default:""}},emits:["route-change","update:threeId","update:twoId"],setup:function(e,n){var o=n.emit,a=function(e,n){return{hasChild:t.computed((function(){return Array.isArray(e.child)&&e.child.length>0})),secondClick:function(){var t=e.path,o=e.id;t&&i(n,t,o,"")}}}(e.data,o),l=a.hasChild,c=a.secondClick,d=function(e){var n=t.ref(),o=t.ref(!1);return t.onMounted((function(){r(n.value,(function(t){var n=t.dataset.id,a=t.dataset.pid,r=t.dataset.path;r&&n&&a&&(i(e,r,a,n),o.value=!1)}))})),{menuGroupRef:n,visible:o}}(o);return{menuGroupRef:d.menuGroupRef,visible:d.visible,hasChild:l,secondClick:c}}});const v=n.withScopeId("data-v-186927de");n.pushScopeId("data-v-186927de");const h={class:"menu-body",ref:"menuGroupRef"};n.popScopeId();const g=v(((e,t)=>{const o=n.resolveComponent("el-popover");return e.hasChild?(n.openBlock(),n.createBlock(o,{key:0,placement:"bottom",trigger:"hover",visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t)},{reference:v((()=>[n.createVNode("div",{class:["menu-item",{"two-checked":e.data.id===e.twoId}]},n.toDisplayString(e.data.label),3)])),default:v((()=>[n.createVNode("section",h,[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.data.child,(t=>(n.openBlock(),n.createBlock("div",{key:t.id,class:["item leaf-item",{"three-checked":t.id===e.threeId}],"data-id":t.id,"data-pid":t.pid,"data-path":t.path},[n.createVNode("span",null,n.toDisplayString(t.label),1)],10,["data-id","data-pid","data-path"])))),128))],512)])),_:1},8,["visible"])):(n.openBlock(),n.createBlock("div",{key:1,class:["menu-item",{"two-checked":e.data.id===e.twoId}],onClick:t[2]||(t[2]=(...t)=>e.secondClick&&e.secondClick(...t))},n.toDisplayString(e.data.label),3))}));m.render=g,m.__scopeId="data-v-186927de",m.__file="src/components/BaseMenu/MenuItem.vue";var y=t.defineComponent({name:"UiBaseMenu",components:{MainMenu:c,MenuItem:m},props:{data:{type:Array,default:function(){return[]}},ids:{type:Array,default:function(){return["","",""]}}},emits:["route-change"],setup:function(e,t){var n=t.emit,o=l(e.data,e.ids,n);return{oneId:o.oneId,twoId:o.twoId,threeId:o.threeId,firstLevelMenu:o.firstLevelMenu,secondLevelMenu:o.secondLevelMenu,routeChange:o.routeChange}}});const k=n.withScopeId("data-v-10e6fe83");n.pushScopeId("data-v-10e6fe83");const b={class:"base-menu"};n.popScopeId();const _=k(((e,t)=>{const o=n.resolveComponent("main-menu"),a=n.resolveComponent("menu-item");return n.openBlock(),n.createBlock("article",b,[n.createVNode("header",null,[n.createVNode(o,{checkedId:e.oneId,"onUpdate:checkedId":t[1]||(t[1]=t=>e.oneId=t),data:e.firstLevelMenu},null,8,["checkedId","data"])]),n.createVNode("section",null,[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.secondLevelMenu,(o=>(n.openBlock(),n.createBlock(a,{key:o.id,data:o,"two-id":e.twoId,"onUpdate:two-id":t[2]||(t[2]=t=>e.twoId=t),"three-id":e.threeId,"onUpdate:three-id":t[3]||(t[3]=t=>e.threeId=t),onRouteChange:e.routeChange},null,8,["data","two-id","three-id","onRouteChange"])))),128))])])}));y.render=_,y.__scopeId="data-v-10e6fe83",y.__file="src/components/BaseMenu/index.vue",y.install=function(e){e.component(y.name,y)};var B=t.defineComponent({name:"UiBaseGrid",props:{columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},height:{type:[String,Number],default:"100%"}},setup:function(e,t){return{emit:t.emit}}});const C=n.withScopeId("data-v-1b892388");n.pushScopeId("data-v-1b892388");const I=n.createTextVNode("无数据");n.popScopeId();const S=C(((e,t)=>{const o=n.resolveComponent("el-table");return n.openBlock(),n.createBlock(o,{class:"base-grid",data:e.data,"highlight-current-row":!0,style:{width:"100%"},height:e.height,"tooltip-effect":"light",onSelect:t[1]||(t[1]=t=>e.emit("select",t)),onSelectAll:t[2]||(t[2]=t=>e.emit("select-all",t)),onRowClick:t[3]||(t[3]=t=>e.emit("row-click",t)),onRowDblclick:t[4]||(t[4]=t=>e.emit("row-db-click",t)),onSortChange:t[5]||(t[5]=({column:t,prop:n,order:o})=>e.emit("sort-change",t,n,o)),size:"medium"},{empty:C((()=>[I])),default:C((()=>[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.columns,((e,t)=>(n.openBlock(),n.createBlock(n.Fragment,{key:t},[n.createCommentVNode("普通列"),(n.openBlock(),n.createBlock(n.resolveDynamicComponent("el-table-column"),{type:e.type,label:e.label,prop:e.prop,align:e.align,"header-align":e.headerAlign,formatter:e.formatter,sortable:e.sortable,"show-overflow-tooltip":!0,"min-width":e.width},null,8,["type","label","prop","align","header-align","formatter","sortable","min-width"]))],64)))),128))])),_:1},8,["data","height"])}));B.render=S,B.__scopeId="data-v-1b892388",B.__file="src/components/BaseGrid/DataGrid.vue";var w=n.defineComponent({props:{total:Number,pageNum:Number,pageSize:Number},setup:function(e,t){var o=t.emit;return{pageSizes:n.reactive([10,20,50,100,200]),sizeChangeEvent:function(e){o("update:page-size",e),o("update:page-num",1)},currentChangeEvent:function(e){o("update:page-num",e)}}}});w.render=function(e,t){const o=n.resolveComponent("el-pagination");return n.openBlock(),n.createBlock(o,{class:"pagination",size:"mini","page-sizes":e.pageSizes,"current-page":e.pageNum,"page-size":e.pageSize,total:e.total,layout:"prev, pager, next,sizes, jumper",onSizeChange:e.sizeChangeEvent,onCurrentChange:e.currentChangeEvent},null,8,["page-sizes","current-page","page-size","total","onSizeChange","onCurrentChange"])},w.__file="src/components/BaseGrid/PageCtl.vue";var N=t.defineComponent({name:"UiBaseGrid",components:{DataGrid:B,PageCtl:w},props:{loadData:Function,columns:{type:Array,default:function(){return[]}},hasPage:{type:Boolean,default:!0}},setup:function(e,t){var o=t.emit,a=function(e){var t=n.ref([]),o=n.ref(0),a=n.ref(1),r=n.ref(20),l=function(n,a){"function"==typeof e&&e({pageNum:n,pageSize:a}).then((function(e){o.value=e.total,t.value=e.list}))};return n.watchEffect((function(){l(a.value,r.value)})),{total:o,pageNum:a,pageSize:r,data:t,reload:function(){l(a.value,r.value)}}}(e.loadData),r=a.total,l=a.pageNum,i=a.pageSize,c=a.data,d=a.reload;return{emit:o,total:r,pageNum:l,pageSize:i,data:c,updateRow:function(e,t){if("number"!=typeof e)throw new Error("Param 'index' Must Be Number");c.value.splice(e,1,t)},reload:d}}});const V=n.withScopeId("data-v-4e9900ac");n.pushScopeId("data-v-4e9900ac");const A={class:"base-grid"};n.popScopeId();const z=V(((e,t)=>{const o=n.resolveComponent("data-grid"),a=n.resolveComponent("page-ctl");return n.openBlock(),n.createBlock("article",A,[n.createVNode("section",null,[n.createVNode(o,{columns:e.columns,data:e.data,onSelect:t[1]||(t[1]=t=>e.emit("select",t)),onSelectAll:t[2]||(t[2]=t=>e.emit("select-all",t)),onRowClick:t[3]||(t[3]=t=>e.emit("row-click",t)),onRowDblclick:t[4]||(t[4]=t=>e.emit("row-db-click",t)),onSortChange:t[5]||(t[5]=({column:t,prop:n,order:o})=>e.emit("sort-change",t,n,o))},null,8,["columns","data"])]),n.createVNode("footer",null,[n.createVNode(a,{total:e.total,pageNum:e.pageNum,"onUpdate:pageNum":t[6]||(t[6]=t=>e.pageNum=t),pageSize:e.pageSize,"onUpdate:pageSize":t[7]||(t[7]=t=>e.pageSize=t)},null,8,["total","pageNum","pageSize"])])])}));N.render=z,N.__scopeId="data-v-4e9900ac",N.__file="src/components/BaseGrid/index.vue",N.install=function(e){e.component(N.name,N)};var F=t.defineComponent({props:{field:{type:Object,default:function(){return{}}}},setup:function(e){return{placeholder:t.computed((function(){return"请输入"+e.field.label}))}}});F.render=function(e,t){const o=n.resolveComponent("el-input");return n.openBlock(),n.createBlock(o,{modelValue:e.field.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.field.value=t),placeholder:e.placeholder},null,8,["modelValue","placeholder"])},F.__file="src/components/BaseFieldGroup/component/FieldInput.vue";var M=t.defineComponent({props:{field:{type:Object,default:function(){return{}}}},setup:function(e){return{placeholder:t.computed((function(){return"请输入"+e.field.label}))}}});M.render=function(e,t){const o=n.resolveComponent("el-input-number");return n.openBlock(),n.createBlock(o,{modelValue:e.field.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.field.value=t),"controls-position":"right",placeholder:e.placeholder},null,8,["modelValue","placeholder"])},M.__file="src/components/BaseFieldGroup/component/FieldNumber.vue";var G=t.defineComponent({props:{field:{type:Object,default:function(){return{}}}},setup:function(e){return{placeholder:t.computed((function(){return"请输入"+e.field.label}))}}});G.render=function(e,t){const o=n.resolveComponent("el-option"),a=n.resolveComponent("el-select");return n.openBlock(),n.createBlock(a,{modelValue:e.field.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.field.value=t),multiple:"","collapse-tags":"",placeholder:e.placeholder},{default:n.withCtx((()=>[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.field.options,(e=>(n.openBlock(),n.createBlock(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])},G.__file="src/components/BaseFieldGroup/component/FieldSelect.vue";var R=t.defineComponent({components:{FieldInput:F,FieldNumber:M,FieldSelect:G},props:{field:{type:Object,default:function(){return{}}}},setup:function(e){return{componentName:t.computed((function(){var t="";switch(e.field.type){case"bi":t="FieldInput";break;case"bn":t="FieldNumber";break;case"bl":t="FieldSelect"}return t}))}}});const L={key:0,class:"group-item"};function U(e){return Array.isArray(e)&&0!==e.length?e.filter((function(e){return t=e.value,!(Array.isArray(t)?0===t.length:!(["number","boolean"].includes(typeof t)||"string"==typeof t&&t));var t})).map((function(e){return{key:e.key,value:e.value,type:e.type}})):[]}R.render=function(e,t){return e.componentName?(n.openBlock(),n.createBlock("section",L,[(n.openBlock(),n.createBlock(n.resolveDynamicComponent(e.componentName),{field:e.field},null,8,["field"]))])):n.createCommentVNode("v-if",!0)},R.__file="src/components/BaseFieldGroup/FieldWrapper.vue";var j=t.defineComponent({name:"UiBaseFieldGroup",components:{FieldWrapper:R},props:{fields:{type:Array,default:function(){return[]}}},emits:["change"],setup:function(e,n){var o=n.emit,r=function(e,t,n){void 0===t&&(t=300);var o=null;return function(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];"function"==typeof e&&(clearTimeout(o),o=setTimeout(e.bind.apply(e,a([n],r)),t))}}((function(){var t=U(e.fields);o("change",t)}));t.watch((function(){return e.fields}),r,{deep:!0})}});const D=n.withScopeId("data-v-620c4089");n.pushScopeId("data-v-620c4089");const x={class:"base-field-group"};n.popScopeId();const O=D(((e,t)=>{const o=n.resolveComponent("field-wrapper");return n.openBlock(),n.createBlock("article",x,[(n.openBlock(!0),n.createBlock(n.Fragment,null,n.renderList(e.fields,(e=>(n.openBlock(),n.createBlock(o,{key:e.key,field:e},null,8,["field"])))),128))])}));j.render=O,j.__scopeId="data-v-620c4089",j.__file="src/components/BaseFieldGroup/index.vue",j.install=function(e){e.component(j.name,j)};var P=[y,N,j],E=function(e){var t=[];P.forEach((function(n){e.component(n.name,n),t.push(n.name)})),console.log("Global Registration Component: "+t)},T={install:E};e.BaseGrid=N,e.BaseMenu=y,e.default=T,e.install=E,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-3-ui.umd.js.map
