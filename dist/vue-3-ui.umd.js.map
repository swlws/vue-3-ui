{"version":3,"file":"vue-3-ui.umd.js","sources":["../src/components/BaseGrid/DataGrid.vue","../src/components/BaseGrid/PageCtl.vue","../src/components/BaseGrid/index.vue"],"sourcesContent":["<template>\r\n  <el-table\r\n    class=\"base-grid\"\r\n    :data=\"data\"\r\n    :highlight-current-row=\"true\"\r\n    style=\"width: 100%\"\r\n    :height=\"height\"\r\n    tooltip-effect=\"light\"\r\n    @select=\"(data) => emit('select', data)\"\r\n    @select-all=\"(data) => emit('select-all', data)\"\r\n    @row-click=\"(row) => emit('row-click', row)\"\r\n    @row-dblclick=\"(row) => emit('row-db-click', row)\"\r\n    @sort-change=\"\r\n      ({ column, prop, order }) => emit('sort-change', column, prop, order)\r\n    \"\r\n    size=\"medium\"\r\n  >\r\n    <!-- 遍历父组件传入的列属性 -->\r\n    <template v-for=\"(item, index) of columns\" :key=\"index\">\r\n      <!--普通列-->\r\n      <component\r\n        :is=\"'el-table-column'\"\r\n        :type=\"item.type\"\r\n        :label=\"item.label\"\r\n        :prop=\"item.prop\"\r\n        :align=\"item.align\"\r\n        :header-align=\"item.headerAlign\"\r\n        :formatter=\"item.formatter\"\r\n        :sortable=\"item.sortable\"\r\n        :show-overflow-tooltip=\"true\"\r\n        :min-width=\"item.width\"\r\n      ></component>\r\n    </template>\r\n\r\n    <template #empty>无数据</template>\r\n  </el-table>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"@vue/runtime-core\";\r\n\r\nexport default defineComponent({\r\n  name: \"UiBaseGrid\",\r\n  props: {\r\n    columns: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    data: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    height: {\r\n      type: [String, Number],\r\n      default: \"100%\",\r\n    },\r\n  },\r\n  setup(props, { emit }) {\r\n    return {\r\n      emit,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.base-grid {\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  .el-table th {\r\n    height: 40px;\r\n    color: #666666;\r\n    background-color: #f6f6f8;\r\n  }\r\n\r\n  .hover-row,\r\n  tr.hover-row > td {\r\n    background-color: #d3ebff;\r\n  }\r\n  .current-row {\r\n    background-color: #4ea6ed;\r\n  }\r\n}\r\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n  .data-grid-body-wrap {\r\n    position: absolute;\r\n  }\r\n}\r\n</style>\r\n","<template>\n  <el-pagination\n    class=\"pagination\"\n    size=\"mini\"\n    :page-sizes=\"pageSizes\"\n    :current-page=\"pageNum\"\n    :page-size=\"pageSize\"\n    :total=\"total\"\n    layout=\"prev, pager, next,sizes, jumper\"\n    @size-change=\"sizeChangeEvent\"\n    @current-change=\"currentChangeEvent\"\n  ></el-pagination>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    total: Number,\n    pageNum: Number,\n    pageSize: Number,\n  },\n  setup(props, { emit }) {\n    const pageSizes = reactive([10, 20, 50, 100, 200]);\n\n    const sizeChangeEvent = (pageSize: number) => {\n      emit(\"update:page-size\", pageSize);\n      emit(\"update:page-num\", 1);\n    };\n    const currentChangeEvent = (pageNum: number) => {\n      emit(\"update:page-num\", pageNum);\n    };\n\n    return {\n      pageSizes,\n      sizeChangeEvent,\n      currentChangeEvent,\n    };\n  },\n});\n</script>\n","<template>\r\n  <article class=\"base-grid\">\r\n    <section>\r\n      <data-grid\r\n        :columns=\"columns\"\r\n        :data=\"data\"\r\n        @select=\"(data) => emit('select', data)\"\r\n        @select-all=\"(data) => emit('select-all', data)\"\r\n        @row-click=\"(row) => emit('row-click', row)\"\r\n        @row-dblclick=\"(row) => emit('row-db-click', row)\"\r\n        @sort-change=\"\r\n          ({ column, prop, order }) => emit('sort-change', column, prop, order)\r\n        \"\r\n      />\r\n    </section>\r\n\r\n    <footer>\r\n      <page-ctl\r\n        :total=\"total\"\r\n        v-model:pageNum=\"pageNum\"\r\n        v-model:pageSize=\"pageSize\"\r\n      />\r\n    </footer>\r\n  </article>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PlainObject } from \"@/typings/component\";\r\nimport { defineComponent, watch } from \"@vue/runtime-core\";\r\nimport { initGrid, TLoadData } from \"./buss\";\r\nimport DataGrid from \"./DataGrid.vue\";\r\nimport PageCtl from \"./PageCtl.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"UiBaseGrid\",\r\n  components: { DataGrid, PageCtl },\r\n  props: {\r\n    loadData: Function,\r\n    columns: {\r\n      type: Array,\r\n      default: () => [] as PlainObject,\r\n    },\r\n    hasPage: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  setup(props, { emit }) {\r\n    const { total, pageNum, pageSize, data } = initGrid(\r\n      props.loadData as TLoadData\r\n    );\r\n\r\n    return {\r\n      emit,\r\n      total,\r\n      pageNum,\r\n      pageSize,\r\n      data,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.base-grid {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  background-color: #fff;\r\n\r\n  > section {\r\n    flex: 1;\r\n  }\r\n\r\n  > footer {\r\n    text-align: right;\r\n    padding: 8px 20px;\r\n  }\r\n}\r\n</style>\r\n"],"names":["_createBlock","class","data","_ctx","highlight-current-row","style","height","tooltip-effect","onSelect","onSelectAll","onRowClick","row","onRowDblclick","onSortChange","size","empty","item","index","_createCommentVNode","type","label","prop","align","header-align","headerAlign","formatter","sortable","show-overflow-tooltip","min-width","width","page-sizes","current-page","page-size","total","layout","onSizeChange","onCurrentChange","_hoisted_1","_createVNode","columns","pageNum","pageSize"],"mappings":"w6BAkCqB,qGAjCnBA,iBACEC,MAAM,YACLC,KAAMC,OACNC,yBAAuB,EACxBC,MAAA,eACCC,OAAQH,SACTI,iBAAe,QACdC,qBAASN,GAASC,gBAAeD,IACjCO,wBAAaP,GAASC,oBAAmBD,IACzCQ,uBAAYC,GAAQR,mBAAkBQ,IACtCC,0BAAeD,GAAQR,sBAAqBQ,IAC5CE,mFAGDC,KAAK,WAmBMC,SAAM,qBAhBP,sBAAVf,2CAAkCG,YAAhBa,EAAMC,iDAAyBA,IAC/CC,2CACAlB,wCACO,oBACJmB,KAAMH,EAAKG,KACXC,MAAOJ,EAAKI,MACZC,KAAML,EAAKK,KACXC,MAAON,EAAKM,MACZC,eAAcP,EAAKQ,YACnBC,UAAWT,EAAKS,UAChBC,SAAUV,EAAKU,SACfC,yBAAuB,EACvBC,YAAWZ,EAAKa,smBC7BvB7B,iBACEC,MAAM,aACNa,KAAK,OACJgB,aAAY3B,YACZ4B,eAAc5B,UACd6B,YAAW7B,WACX8B,MAAO9B,QACR+B,OAAO,kCACNC,aAAahC,kBACbiC,gBAAgBjC,kjBCTVF,MAAM,6IAAfD,wBAAAqC,GACEC,8BACEA,iBACGC,QAASpC,UACTD,KAAMC,OACNK,qBAASN,GAASC,gBAAeD,IACjCO,wBAAaP,GAASC,oBAAmBD,IACzCQ,uBAAYC,GAAQR,mBAAkBQ,IACtCC,0BAAeD,GAAQR,sBAAqBQ,IAC5CE,iHAMLyB,6BACEA,iBACGL,MAAO9B,QACAqC,QAASrC,4CAAAA,aACTsC,SAAUtC,8CAAAA"}